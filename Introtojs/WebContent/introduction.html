<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Introduction</title>
<link rel="stylesheet" href="stylesheet.css">
<link rel="icon" href="https://static.thenounproject.com/png/30227-200.png">
</head>
<body>
<div class="navbar"></div>
<div class="content">
<h2>Introduction</h2>
<p > Hi! My name is Makar, What's your name?</p>

<input type="text" id="name" autocomplete="off" >
<button onclick="questionOne()">Click!</button>

<p id="questionOne" style="visibility:hidden">Hi <span id="nameTwin"></span>, what's your favorite color?<br>
<input type="text" id="color" autocomplete="off" >
<button onclick="questionTwo()">Click!</button>
</p>

<p id="questionTwo" style="visibility:hidden"><span id="colorTwin" style="text-transform:capitalize"></span> huh? Interesting choice. What state do you live in?<br>
<input type="text" id="state" autocomplete="off" >
<button onclick="finalStatement()">Click!</button>
</p>

<p id="finalStatement" style="visibility:hidden"></p>
</div>

<script>
document.getElementById("name").focus();
var name;
var color;
var state;

function questionOneFocus(){
	document.getElementById("color").focus();
}
function questionTwoFocus(){
	document.getElementById("state").focus();
}

function questionOne(){
	name = capitalize(document.getElementById("name").value);
	document.getElementById("nameTwin").innerHTML = name;
	document.getElementById("questionOne").style.visibility="visible";
	setTimeout(questionOneFocus,50);
}

function questionTwo(){
	color = capitalize(document.getElementById("color").value);
	document.getElementById("colorTwin").innerHTML = color;
	document.getElementById("questionTwo").style.visibility="visible";
	setTimeout(questionTwoFocus,50);

}

function finalStatement(){
	state = capitalize(document.getElementById("state").value);
	document.getElementById("finalStatement").style.visibility="visible";
	var userInfo = {
		userName:name,
		userColor:color,
		userState:state,
		introduction : function(){
			return "Great! An object has created for " + this.userName + " who lives in " + this.userState + " and has a favorite color of " + this.userColor + 
			"! If you\'d like to view my code please visit <a href= \"https://github.com/MakarTch/LeaningJS/blob/master/Introtojs/WebContent/introduction.html\" target=\"_blank\">my GitHub</a>.";
		}
	};
	document.getElementById("finalStatement").innerHTML = userInfo.introduction();
}
function capitalize(str){
	var text;
	var finalString = "";
	if (str.indexOf(" " > -1)){
		var strArray = str.split(" ");
		for(s of strArray){
			var lower = s.toLowerCase();
			text = s.charAt(0).toUpperCase() + lower.slice(1);
			finalString += " " + text;
		}
	} else {
		var lower = str.toLowerCase();
		finalString = str.charAt(0).toUpperCase() + lower.slice(1);
	}
	return finalString;
}

</script>

</body>
</html>